{"version":3,"sources":["components/Modal/Modal.module.css","components/Spinner/Spinner.module.css","components/Layout/Layout.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Layout/Layout.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Spinner/Spinner.js","services/imageApi.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Layout","children","className","styles","Searchbar","state","value","handleChange","e","setState","target","handleSubmit","preventDefault","props","onSearch","this","SearchForm","onSubmit","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","disabled","Component","ImageGalleryItem","src","alt","onClick","ImageGalleryItemImage","ImageGallery","images","onClickImg","map","id","webformatURL","largeImageURL","key","Button","onLoadMore","Modal","handleEscape","code","onClose","closeModal","currentTarget","window","addEventListener","removeEventListener","Overlay","img","Spinner","Loader","color","height","width","LoaderText","getImages","query","page","a","url","axios","get","response","data","App","searchQuery","totalPage","isLoading","error","largeImage","fetchImages","imageApi","then","hits","prevState","totalHits","catch","finally","handleSearchQuery","handleLoadMore","toggleModal","prevProp","scrollTo","top","document","documentElement","scrollHeight","behavior","showModal","message","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.b1351fe7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2fmic\",\"Modal\":\"Modal_Modal__1izMi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Spinner_Loader__1nA8u\",\"LoaderText\":\"Spinner_LoaderText__1H2a1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"Layout_Layout__TsHk2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__a3LQs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2YWUF\"};","import React from 'react';\r\n\r\nimport styles from './Layout.module.css';\r\n\r\nconst Layout = ({ children}) => {\r\n  return (\r\n    <div className={styles.Layout}>{children}</div>\r\n  )\r\n}\r\n\r\nexport default Layout;","import React, { Component } from 'react';\r\n\r\nimport styles from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    value: ''\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      value: e.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSearch(this.state.value);\r\n  }\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            value={value}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n            disabled={this.props.disabled}\r\n          />\r\n        </form>\r\n      </header>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ src, alt, onClick }) => {\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img src={src} alt={alt} className={styles.ImageGalleryItemImage} onClick={onClick} />\r\n    </li>\r\n  )\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired\r\n}\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ images, onClickImg }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {images.map(({ id, webformatURL, largeImageURL }) => {\r\n        return (\r\n          <ImageGalleryItem key={id} src={webformatURL} alt=\"There is a picture\" onClick={() => onClickImg(largeImageURL)} />\r\n        )\r\n      })}\r\n    </ul>\r\n  )\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(PropTypes.shape({\r\n    id: PropTypes.number.isRequired,\r\n    webformatURL: PropTypes.string.isRequired\r\n  })).isRequired,\r\n  onClickImg: PropTypes.func.isRequired\r\n}\r\n\r\nexport default ImageGallery;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ onLoadMore }) => {\r\n  return (\r\n    <button className={styles.Button} type=\"button\" onClick={onLoadMore}>Load more</button>\r\n  )\r\n}\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Button;","import React, { Component } from 'react';\r\n\r\nimport styles from './Modal.module.css';\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleEscape)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleEscape)\r\n  }\r\n\r\n  handleEscape = e => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  }\r\n\r\n  closeModal = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.Overlay} onClick={this.closeModal}>\r\n        <div className={styles.Modal}>\r\n          <img src={this.props.img} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nimport styles from './Spinner.module.css';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className={styles.Loader}>\r\n      <Loader\r\n        type=\"Triangle\"\r\n        color=\"#3f51b5\"\r\n        height={100}\r\n        width={100}\r\n      />\r\n      <span className={styles.LoaderText}>Loading ...</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Spinner;","import axios from 'axios';\r\n\r\nconst baseUrl = 'https://pixabay.com/api/';\r\nconst key = '14230040-8f4217119aa6e0fd5b0363ac7';\r\n\r\nconst getImages = async (query, page) => {\r\n  const url = `${baseUrl}?key=${key}&q=${query}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`;\r\n\r\n  const response = await axios.get(url);\r\n  const data = response.data;\r\n\r\n  return data;\r\n}\r\n\r\nexport default {\r\n  getImages\r\n}","import React, { Component } from 'react';\n\nimport Layout from './Layout/Layout';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery';\nimport Button from './Button';\nimport Modal from './Modal/Modal';\nimport Spinner from './Spinner';\n\nimport imageApi from '../services/imageApi';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    searchQuery: '',\n    page: 1,\n    totalPage: 0,\n    isLoading: false,\n    error: null,\n    largeImage: ''\n  };\n\n  componentDidMount() { }\n\n  componentDidUpdate(prevProp, prevState) {\n    // Sending query\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n    }\n\n    // Scroll to bottom page\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n    if (prevPage !== nextPage) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n\n    this.setState({ isLoading: true })\n    imageApi.getImages(searchQuery, page)\n      .then(data => {\n        const images = data.hits;\n\n        return this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n          totalPage: data.totalHits - 12 * this.state.page\n        }))\n      },\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  }\n\n  handleSearchQuery = query => {\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      images: [],\n      totalPage: 0\n    })\n  }\n\n  handleLoadMore = () => {\n    this.fetchImages();\n  }\n\n  toggleModal = img => {\n    this.setState({\n      largeImage: img || ''\n    })\n  }\n\n  render() {\n    const { images, isLoading, error, totalPage, showModal, largeImage } = this.state;\n\n    return (\n      <Layout>\n        {/* Search image */}\n        <Searchbar onSearch={this.handleSearchQuery} disabled={showModal} />\n\n        {/* Show error */}\n        {error && <p>Whoops, something went wrong: {error.message}</p>}\n\n        {/* Show image gallery */}\n        {images.length > 0 && <ImageGallery images={images} onClickImg={this.toggleModal} />}\n\n        {/* Show loader when downloading data */}\n        {isLoading && <Spinner />}\n\n        {/* Show button-more after request */}\n        {totalPage > 0 && <Button onLoadMore={this.handleLoadMore} />}\n\n        {/* Show a large image in the modal */}\n        {largeImage && <Modal img={largeImage} onClose={this.toggleModal} />}\n      </Layout>\n    )\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2LNRS\",\"SearchForm\":\"Searchbar_SearchForm__3Yxnd\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2kUFG\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__38q2n\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1vOyG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3jsGC\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2Qg1c\"};"],"sourceRoot":""}